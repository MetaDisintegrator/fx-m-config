server:
  port: 0
  forward-headers-strategy: framework

eureka:
  client:
    serviceUrl:
      defaultZone: http://m-dscv-svc:8761/eureka/
  instance:
    instanceId: ${spring.application.name}:${spring.application.instance_id:${random.value}}

logging:
  pattern:
    console: "%clr(%d{yyyy-MM-dd HH:mm:ss}){blue} %clr([%X{traceId:-},%X{spanId:-}]){cyan} %clr(${LOG_LEVEL_PATTERN:-%5p}) %m%n"

spring:
  output:
    ansi:
      enabled: always
  jackson:
    time-zone: GMT+8
    date-format: yyyy-MM-dd HH:mm:ss
  application:
    name: train-service
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://m-train-sql:3306/fx_train_service?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Shanghai&characterEncoding=utf-8&autoReconnect=true
    username: 'root'
    # password: 'ss72ss05yy06'
    password: 'yyyYYY&0121'
    #    password: 'ehern030121'
#    password: '050322yhq'
    hikari:
      username: 'root'
      # password: 'ss72ss05yy06'
      password: 'yyyYYY&0121'
      #      password: 'ehern030121'
#      password: '050322yhq'
      driver-class-name: com.mysql.cj.jdbc.Driver
      maximum-pool-size: 3000
      minimum-idle: 10
  jpa:
    database: mysql
    hibernate:
      ddl-auto: update
    properties:
      hibernate:
        jdbc:
          time_zone: GMT+8
  graphql:
    cors:
      allow-credentials: true
      allowed-headers: '*'
      allowed-origins:
        [
          'http://localhost:5173/',
          'http://10.193.185.196:5173/',
          '*'
        ]
      allowed-methods: ['GET','POST','DELETE','PUT','OPTIONS']
  session:
    store-type: redis
  redis:
    host: localhost
    port: 6379

management:
  tracing:
    sampling:
      probability: 1.0
  endpoints:
    web:
      exposure:
        include: health,sbom